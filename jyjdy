create database Railway;
use Railway;

create table passengers
(
P_ID INT PRIMARY KEY,
P_NAME VARCHAR(30),
AGE INT ,
MO_NUM INT , 
GENDER VARCHAR(30)
);

CREATE TABLE TRAIN_DETAILS
(
TRAIN_NO INT PRIMARY KEY ,
SOURCE VARCHAR(30),
DESTINATION VARCHAR(30),
TRAIN_NAME VARCHAR(30)
);

CREATE TABLE TRANSACTIONS
(
T_ID INT PRIMARY KEY ,
P_ID INT,
FARE INT,
PAYMENT_MODE VARCHAR(30),
FOREIGN KEY(P_ID) REFERENCES passengers(P_ID)
);

CREATE TABLE TRAIN_CAPACITY
(
TRAIN_NO INT PRIMARY KEY ,
AC_1 INT,
AC_2 INT,
AC_3 INT,
SL INT,
GENERAL int,
FOREIGN KEY(TRAIN_NO) references TRAIN_DETAILS (TRAIN_NO)
);

CREATE TABLE ROUTES
(
TRAIN_NO INT PRIMARY KEY,
STOP1 VARCHAR(30),
STOP2 VARCHAR(30),
STOP3 VARCHAR(30),
STOP4 VARCHAR(30),
foreign key(TRAIN_NO) references TRAIN_DETAILS(TRAIN_NO)
);


CREATE TABLE BOOK_TICKETS
(
BOOKING_ID INT PRIMARY KEY,
P_ID INT,
CLASS VARCHAR(30),
SEAT_NO INT ,
T_ID INT ,
SOURCE VARCHAR(30),
DESTINATION VARCHAR(30),
TRAIN_NO INT,
FOREIGN KEY(P_ID) REFERENCES PASSENGERS(P_ID),
FOREIGN KEY(T_ID) REFERENCES TRANSACTIONS(T_ID),
FOREIGN KEY(TRAIN_NO) REFERENCES TRAIN_DETAILS(TRAIN_NO)
);

SHOW TABLES;
